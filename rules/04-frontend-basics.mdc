---
alwaysApply: false
---
Description: モダンなフロントエンド開発（React, Tailwind CSS, TypeScript）における基本的なベストプラクティスを定義します。古いCSS設計（BEM）や素のDOM操作は原則禁止とし、フレームワークの流儀に従います。

**重要**: システム開発における期待レベル（`00-mindset.mdc`のセクション8、`26-implementation-process.mdc`）を必ず遵守してください。単一ページのダッシュボードのみ、基本的なCRUD操作のみで満足することは絶対に禁止です。

# 1. HTML: セマンティックかつReactフレンドリーに
- **考え方**: `div` の乱用を避け、意味のあるタグ (`main`, `section`, `article`, `button` 等) を使用します。ただし、Reactコンポーネントとしてカプセル化することを前提とします。
- **AIへの指示**: 「このコンポーネントのHTML構造を、セマンティックなタグを使って改善して。」

# 2. CSS: Tailwind CSSファースト
- **考え方**: 独自のCSSクラスやBEM命名規則は使用しません。スタイリングは全てTailwind CSSのユーティリティクラスで行います。
- **原則**:
    - `style` 属性（インラインスタイル）は原則禁止。動的な値が必要な場合のみ使用。
    - 複雑なスタイルは `@apply` ではなく、コンポーネント化して再利用する。
    - レスポンシブ対応 (`md:`, `lg:`) や擬似クラス (`hover:`, `focus:`) もTailwindで完結させる。
- **AIへの指示**: 「このスタイルをTailwind CSSのクラスに書き換えて。マジックナンバーは使わず、設定ファイルのデザインシステムに従って。」

# 3. JavaScript/TypeScript: モダンで安全な記法を
- **変数宣言**: `const` を基本とし、再代入が必要な場合のみ `let` を使用します。`var` は厳禁です。
- **非同期処理**: `async/await` を使用し、`.then()` チェーンは避けます。
- **DOM操作**: `document.getElementById` 等の直接的なDOM操作は禁止です。Reactの `useRef` や状態管理 (`useState`) を使用してDOMを操作・更新します。
- **型安全性**: `any` 型の使用は禁止です。必ず具体的な型を定義するか、推論させます。
- **AIへの指示**: 「この`document.querySelector`を使っているコードを、Reactの`useRef`を使った方法に書き換えて。」

# 4. アクセシビリティ・ファースト (A11y & WAI-ARIA)
- **考え方**: 全てのユーザー（スクリーンリーダー利用者やキーボード操作のみのユーザーを含む）が使えるUIを目指します。
- **原則**:
    - **インタラクティブ要素**: `div` や `span` に `onClick` をつけるのは原則禁止です。`button` タグを使うか、適切な `role="button"`、`tabIndex="0"`、およびキーボードイベントハンドラ（Enter/Space）を実装してください。
    - **セマンティクス**: 見出し（h1-h6）の階層を守り、ランドマーク（main, nav, aside）を正しく使います。
- **AIへの指示**: 「このカスタムドロップダウン、キーボード操作だけで開閉できるようにして。ARIA属性（`aria-expanded`, `aria-haspopup`）も適切に追加してほしい。」

# 5. レイアウトシフト対策 (CLS Optimization)
- **考え方**: 読み込み中に画面がガタつく（Cumulative Layout Shift）のは最悪のUXです。
- **実践方法**:
    - 画像には必ず `width` / `height` 属性（またはアスペクト比のCSS）を指定し、読み込み前のスペースを確保します。
    - 外部フォント読み込み中のチラつきを防ぐため、`font-display: swap` や Next.js の `next/font` を使用します。

# 6. クロスプラットフォームUXと入力体験 (Cross-Platform UX)
- **ショートカットキーの最適化**:
    - **送信アクション**: フォームやチャットの送信は、`Cmd + Enter` (Mac) および `Ctrl + Enter` (Windows) の両方に対応させます。「送信ボタンを押す」というマウス操作を強制しないでください。
    - **キャンセル**: モーダルやメニューは `Esc` キーで閉じられるようにします。
    - **OS判定**: ユーザーのOSに合わせて、ショートカットキーのヒント表示を切り替えます（例: Macなら `⌘+Enter`、Winなら `Ctrl+Enter`）。
- **ファイル入力の最適化**:
    - **PC**: ドラッグ＆ドロップ (D&D) 領域を大きく確保し、クリップボードからの画像ペーストもサポートします。
    - **モバイル**: タップしやすい大きなボタンを配置し、ネイティブのファイル選択（カメラ/ライブラリ）をスムーズに起動させます。
- **モバイル固有の配慮**:
    - **セーフエリア**: `padding-bottom: env(safe-area-inset-bottom)` を使い、iPhoneのホームバーとコンテンツが重ならないようにします。
    - **キーボード回避**: モバイルで入力時にキーボードで入力欄が隠れないよう、`dvh` (Dynamic Viewport Height) 単位やスクロール調整を活用します。
    - **タッチターゲット**: 全てのタップ可能な要素は **44px × 44px 以上** の領域を確保します。指で隠れない位置にツールチップを表示するなどの配慮も必要です。
- **AIへの指示**: 「このチャット入力フォーム、`Ctrl+Enter`で送信できるようにして。あと、画像をドラッグ＆ドロップでもアップロードできるようにしたい。」