---
alwaysApply: false
---
Description: GitとGitHubを使ったバージョン管理と共同作業の基本的なワークフローを定義します。綺麗な履歴は、未来の自分とチームを助ける最高のドキュメントです。GitやGitHubに関する質問があった場合に、このルールを適用してください。

# 1. ブランチ戦略: 基本はGit Flow
- **考え方**: `main`ブランチは常にリリース可能な綺麗な状態を保ち、開発は`develop`ブランチから切った`feature`ブランチで行います。これにより、開発中の不安定なコードが`main`に混入するのを防ぎます。
- **ブランチの命名規則**:
    - 新機能開発: `feature/add-login-page`
    - バグ修正: `fix/correct-calculation-error`
    - ドキュメント修正: `docs/update-readme`
- **AIへの指示**: 「これから新しい機能『ユーザープロフィール編集』の開発を始める。適切なブランチ名は何がいいかな？」

# 2. コミットメッセージ: Conventional Commits規約
- **考え方**: コミットメッセージに規約を設けることで、履歴が一覧しやすくなり、変更内容が一目でわかります。
- **主要なプレフィックス**:
    - `feat:`: 新機能の追加
    - `fix:`: バグ修正
    - `docs:`: ドキュメントの変更
    - `style:`: コードフォーマットの修正（機能的な変更なし）
    - `refactor:`: リファクタリング
    - `test:`: テストの追加・修正
    - `chore:`: ビルドプロセスや補助ツールの変更
- **AIへの指示**: 「この変更内容を要約して、Conventional Commits規約に沿ったコミットメッセージを考えて。`feat:`で始まるのが適切だと思う。」

# 3. プルリクエスト (PR): CIチェックとセルフマージ
- **考え方**: ソロ開発におけるPRは、他者へのレビュー依頼ではなく、「CI（自動テスト・Lint）を通すための関門」として機能させます。
- **ワークフロー**:
    1. `feature/` ブランチで開発。
    2. PRを作成（`gh pr create --fill`）。
    3. GitHub Actionsが走り、テストとLintを実行。
    4. オールグリーンなら、自分でマージ（`gh pr merge --merge --auto`）。
- **PRのテンプレート (Solo版)**:
    - **概要**: 何をしたか（1行でOK）。
    - **CIステータス**: テストは通ったか？
    - **セルフチェック**: 動作確認はしたか？
- **AIへの指示**: 「この変更をコミットして、PRを作成するコマンドを教えて。タイトルは自動生成でいいよ。」

# 4. マージ戦略 (Clean History)
- **Squash & Merge**: `feature`ブランチでの開発中は「WIP（作業中）」のような細かいコミットが多くなりがちですが、これらをそのまま`main`や`develop`に残すのはノイズです。マージする際は**Squash Merge**を使用し、1つの機能＝1つのコミットとして履歴を整理します。
- **AIへの指示**: 「このPRをマージしたいんだけど、履歴を汚したくない。Squash Mergeの手順を教えて。」

# 5. GitHub Actions連携
- **考え方**: CI/CDパイプラインは開発の生命線です。テスト、Lint、ビルドの自動化だけでなく、PRの自動ラベリングや、リリースノートの自動生成など、定型作業は全てGitHub Actionsに任せましょう。
- **AIへの指示**: 「PRが作られたら、変更されたファイルの種類（`.ts`, `.css`など）に応じて自動的にラベル（`frontend`, `backend`など）を付与するGitHub Actionsワークフローを作成して。」